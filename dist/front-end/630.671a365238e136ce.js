"use strict";(self.webpackChunkfrontEnd=self.webpackChunkfrontEnd||[]).push([[630],{8630:(H,h,u)=>{u.r(h),u.d(h,{AdminModule:()=>R});var g=u(6814),d=u(95),v=u(9862),m=u(7276),A=u(7394),x=u(9147),T=u(3519),f=u.n(T),_=u(1486),y=u(217),t=u(4946),U=u(3076),q=u(3601),C=u(6239),S=u(2742),b=u(1594);let P=(()=>{class i{constructor(e){this.httpClient=e,this.urlStatus=b.N.urlStatus}getStatus(){return this.httpClient.get(this.urlStatus)}static#t=this.\u0275fac=function(n){return new(n||i)(t.LFG(v.eN))};static#e=this.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),w=(()=>{class i{constructor(e){this.httpClient=e,this.urlDeliveryStatus=b.N.urlDeliveryStatus}getDeliveryStatus(){return this.httpClient.get(this.urlDeliveryStatus)}static#t=this.\u0275fac=function(n){return new(n||i)(t.LFG(v.eN))};static#e=this.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function O(i,l){1&i&&(t.TgZ(0,"div")(1,"p")(2,"i",126),t._uU(3," Aprobado"),t.qZA()()())}function N(i,l){1&i&&(t.TgZ(0,"div")(1,"p")(2,"i",127),t._uU(3," Pendiente"),t.qZA()()())}function E(i,l){1&i&&(t.TgZ(0,"div")(1,"p")(2,"i",128),t._uU(3," En proceso"),t.qZA()()())}function J(i,l){1&i&&(t.TgZ(0,"div",129)(1,"div",130),t._UZ(2,"img",131),t.qZA(),t.TgZ(3,"div",132)(4,"p",133),t._uU(5,"Regalo"),t.qZA()()())}function k(i,l){1&i&&(t.TgZ(0,"div")(1,"p")(2,"i",134),t._uU(3," Entregado"),t.qZA()()())}function D(i,l){1&i&&(t.TgZ(0,"div")(1,"p")(2,"i",135),t._uU(3," En camino"),t.qZA()()())}function F(i,l){1&i&&(t.TgZ(0,"div")(1,"p")(2,"i",136),t._uU(3," En preparaci\xf3n"),t.qZA()()())}function I(i,l){1&i&&(t.TgZ(0,"div")(1,"p")(2,"i",137),t._uU(3," Cancelado"),t.qZA()()())}function Y(i,l){if(1&i&&(t.TgZ(0,"div",2),t._UZ(1,"hr"),t.TgZ(2,"div",138)(3,"p"),t._UZ(4,"i",139),t._uU(5),t.qZA()(),t.TgZ(6,"div",138)(7,"p"),t._UZ(8,"i",140),t._uU(9),t.qZA()(),t.TgZ(10,"div",67)(11,"p"),t._UZ(12,"i",141),t._uU(13),t.qZA()()()),2&i){const e=t.oxw().$implicit;t.xp6(5),t.hij(" De: ",e.gift.by,""),t.xp6(4),t.hij(" Para: ",e.gift.destination,""),t.xp6(4),t.hij(" ",e.gift.message,"")}}function M(i,l){if(1&i&&(t.TgZ(0,"div",67)(1,"div",2)(2,"div",142)(3,"p",143),t._uU(4),t.qZA()(),t.TgZ(5,"div",100)(6,"p"),t._uU(7),t.ALo(8,"titlecase"),t.qZA()(),t.TgZ(9,"div",144)(10,"p"),t._uU(11),t.qZA()(),t.TgZ(12,"div",142)(13,"p"),t._uU(14),t.ALo(15,"number"),t.qZA()(),t.TgZ(16,"div",38)(17,"p",145),t._uU(18),t.ALo(19,"number"),t.qZA()()()()),2&i){const e=l.$implicit;t.xp6(4),t.Oqu(e.product.code),t.xp6(3),t.hij("",t.lcZ(8,5,e.product.name)," "),t.xp6(4),t.hij("X ",e.quantity,""),t.xp6(3),t.hij("c/u ","$ "+t.xi3(15,7,e.price,"1.2-2"),""),t.xp6(4),t.hij("Subtotal: ","$ "+t.xi3(19,10,e.price*e.quantity,"1.2-2")," ")}}function j(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"div",96)(1,"h5",97)(2,"button",98)(3,"div",99)(4,"div",100)(5,"p",84),t._uU(6,"Fecha"),t.qZA()(),t.TgZ(7,"div",100)(8,"p",84),t._uU(9,"Estado de pago"),t.qZA()(),t.TgZ(10,"div",100)(11,"p",84),t._uU(12,"Total"),t.qZA()(),t.TgZ(13,"div",100),t._UZ(14,"i",101),t.TgZ(15,"span",102),t._uU(16),t.qZA()(),t.TgZ(17,"div",100),t.YNc(18,O,4,0,"div",87),t.YNc(19,N,4,0,"div",87),t.YNc(20,E,4,0,"div",87),t.qZA(),t.TgZ(21,"div",100)(22,"p"),t._UZ(23,"i",103),t._uU(24),t.ALo(25,"number"),t.qZA()()(),t.YNc(26,J,6,0,"div",104),t.qZA()(),t.TgZ(27,"div",105)(28,"div",106)(29,"div",2)(30,"div",38)(31,"p",84),t._uU(32,"ID de pago"),t.qZA(),t.TgZ(33,"p"),t._UZ(34,"i",107),t._uU(35),t.qZA()(),t.TgZ(36,"div",38)(37,"p",84),t._uU(38,"Estado de entrega"),t.qZA(),t.YNc(39,k,4,0,"div",87),t.YNc(40,D,4,0,"div",87),t.YNc(41,F,4,0,"div",87),t.YNc(42,I,4,0,"div",87),t.qZA(),t.TgZ(43,"div",38)(44,"p",84),t._uU(45,"Forma de env\xedo"),t.qZA(),t.TgZ(46,"p"),t._UZ(47,"i",108),t._uU(48),t.qZA()(),t.TgZ(49,"div",38)(50,"p",84),t._uU(51,"M\xe9todo de pago"),t.qZA(),t.TgZ(52,"p"),t._UZ(53,"i",109),t._uU(54),t.ALo(55,"titlecase"),t.ALo(56,"titlecase"),t.qZA()()(),t.TgZ(57,"div",110),t._UZ(58,"hr"),t.TgZ(59,"div",67)(60,"h5"),t._uU(61,"Cliente"),t.qZA()(),t.TgZ(62,"div",111)(63,"p"),t._UZ(64,"i",112),t._uU(65),t.qZA()(),t.TgZ(66,"div",113)(67,"p"),t._UZ(68,"i",114),t._uU(69),t.qZA()(),t.TgZ(70,"div",115)(71,"p"),t._UZ(72,"i",116),t._uU(73),t.qZA()(),t.TgZ(74,"div",111)(75,"p"),t._UZ(76,"i",117),t._uU(77),t.qZA()(),t.TgZ(78,"div",111)(79,"p"),t._UZ(80,"i",118),t._uU(81),t.qZA()()(),t.YNc(82,Y,14,3,"div",119),t.TgZ(83,"div",2),t._UZ(84,"hr"),t.TgZ(85,"div",120)(86,"h5"),t._uU(87,"Detalles de los productos"),t.qZA()(),t.YNc(88,M,20,13,"div",121),t._UZ(89,"hr"),t.TgZ(90,"div",122)(91,"button",123),t.NdJ("click",function(){const a=t.CHM(e).$implicit,s=t.oxw(2);return t.KtG(s.openModalOrder(a.id))}),t._uU(92," Actualizar pedido "),t.qZA()(),t.TgZ(93,"div",124)(94,"p",125),t._uU(95),t.ALo(96,"number"),t.qZA()()()()()()}if(2&i){const e=l.$implicit,n=l.index,o=t.oxw(2);t.xp6(2),t.uIk("data-bs-target","#collapse-"+e.id)("aria-controls","collapse-"+e.id),t.xp6(14),t.hij(" ",e.date,""),t.xp6(2),t.Q6J("ngIf","Aprobado"===e.status),t.xp6(1),t.Q6J("ngIf","Pendiente"===e.status),t.xp6(1),t.Q6J("ngIf","En proceso"===e.status),t.xp6(4),t.hij(" ","$ "+t.xi3(25,30,o.getTotal(n),"1.2-2"),""),t.xp6(2),t.Q6J("ngIf",null!==e.gift.message),t.xp6(1),t.Q6J("id","collapse-"+e.id),t.uIk("data-bs-parent","#accordionFlushExample"),t.xp6(8),t.hij(" ",e.id_payment,""),t.xp6(4),t.Q6J("ngIf","Entregado"===e.delivery_status),t.xp6(1),t.Q6J("ngIf","En camino"===e.delivery_status),t.xp6(1),t.Q6J("ngIf","En preparaci\xf3n"===e.delivery_status),t.xp6(1),t.Q6J("ngIf","Cancelado"===e.delivery_status),t.xp6(6),t.hij(" ",e.shipping," "),t.xp6(6),t.AsE(" ",t.lcZ(55,33,e.format_payment)," | ",t.lcZ(56,35,e.format_method)," "),t.xp6(11),t.AsE(" ",e.user.name,", ",e.user.lastname,""),t.xp6(4),t.hij(" ",e.user.phone,""),t.xp6(4),t.hij(" ",e.user.email,""),t.xp6(4),t.AsE(" ",o.getProvince(e.user.province)," - ",e.user.city,""),t.xp6(4),t.lnq(" ",e.user.address," \xa0 Piso: ",e.user.floor," Dep: ",e.user.departament,""),t.xp6(1),t.Q6J("ngIf",null!==e.gift.message),t.xp6(6),t.Q6J("ngForOf",e.orderDetails),t.xp6(7),t.hij("Total: ","$ "+t.xi3(96,37,o.getTotal(n),"1.2-2"),"")}}function Q(i,l){if(1&i&&(t.ynx(0),t.YNc(1,j,97,40,"div",95),t.BQk()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.orders)}}function $(i,l){1&i&&(t.TgZ(0,"div",146)(1,"p",147),t._UZ(2,"i",148),t._uU(3," No hay resultados que coincidan con su bu\u0301squeda."),t.qZA()())}function B(i,l){if(1&i&&(t.TgZ(0,"option",149),t._uU(1),t.qZA()),2&i){const e=l.$implicit;t.Q6J("ngValue",e),t.xp6(1),t.Oqu(e+1)}}function L(i,l){if(1&i&&(t.TgZ(0,"option",150),t._uU(1),t.qZA()),2&i){const e=l.$implicit;t.s9C("value",e.id),t.xp6(1),t.Oqu(e.status)}}function z(i,l){1&i&&(t.TgZ(0,"div")(1,"p",151),t._uU(2," El estado de pago es obligatorio"),t.qZA()())}function G(i,l){if(1&i&&(t.TgZ(0,"option",150),t._uU(1),t.qZA()),2&i){const e=l.$implicit;t.s9C("value",e.id),t.xp6(1),t.Oqu(e.delivery_status)}}function V(i,l){1&i&&(t.TgZ(0,"div")(1,"p",151),t._uU(2," El estado de entrega es obligatorio"),t.qZA()())}const Z=function(i){return{"is-invalid":i}},W=[{path:"",component:(()=>{class i{constructor(e,n,o,a,s,c,r){this.userService=e,this.orderService=n,this.router=o,this.provinceService=a,this.countryService=s,this.statusService=c,this.deliveryStatusService=r,this.suscripciones=new A.w0,this.user=new x.n,this.orders=[],this.provinces=[],this.countrys=[],this.status=[],this.deliveryStatus=[],this.currentPage=0,this.totalPages=0,this.totalElements=0,this.formOrders=new d.cw({fromDate:new d.NI(""),toDate:new d.NI(""),status:new d.NI(0)}),this.formStatus=new d.cw({id:new d.NI(null,[d.kI.required]),status:new d.NI(null,[d.kI.required]),delivery_status:new d.NI(null,[d.kI.required])})}ngOnInit(){this.suscripciones.add(this.userService.getInfo().subscribe(e=>{this.user=e})),this.suscripciones.add(this.provinceService.getProvinces().subscribe(e=>{this.provinces=e})),this.suscripciones.add(this.countryService.getCountries().subscribe(e=>{this.countrys=e})),this.suscripciones.add(this.getOrders())}ngOnDestroy(){this.suscripciones.unsubscribe()}logout(){f().fire({title:"\xa1Advertencia!",text:"\xbfEst\xe1s seguro de que deseas cerrar sesion?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Cerrar sesion",cancelButtonText:"Cancelar"}).then(e=>{e.isConfirmed&&(localStorage.clear(),window.location.reload(),this.router.navigate(["/home"]))})}getOrders(){const e=new Date,n=this.formOrders.value.fromDate?this.formOrders.value.fromDate:this.formatDate(new Date(e.getFullYear(),e.getMonth(),e.getDate()-30)),o=this.formOrders.value.toDate?this.formOrders.value.toDate:this.formatDate(e,!0),a=this.formOrders.value.status??0;this.formOrders.patchValue({fromDate:n,toDate:o}),this.orderService.getAllOrders(this.currentPage,n,o,a).subscribe(s=>{console.log(s),this.orders=s.content,this.totalElements=s.totalElements,this.totalPages=s.totalPages},s=>{console.log(s)})}formatDate(e,n=!1){let c="00",r="00";return n&&(c="23",r="59"),`${e.getFullYear()}-${(e.getMonth()+1).toString().padStart(2,"0")}-${e.getDate().toString().padStart(2,"0")}T${c}:${r}`}orderBy(e){const n=e.target.value;"antiguo"===n?this.orders.reverse():"reciente"===n&&this.getOrders()}getTotal(e){let n=0;return this.orders[e].orderDetails.forEach(o=>{n+=o.quantity*o.price}),n}getProvince(e){const n=this.provinces.find(o=>o.id===e);return n?n.province:""}exportToExcel(){const e=this.orders.map(r=>({"ID Pago":r.id_payment,Estado:r.status,Fecha:r.date,Cliente:`${r.user.name} ${r.user.lastname}`,Tel\u00e9fono:r.user.phone,Email:r.user.email,Direcci\u00f3n:`${r.user.address}, ${this.getProvince(r.user.province)}, ${r.user.city}`,Piso:r.user.floor,Departamento:r.user.departament,Env\u00edo:r.shipping,"M\xe9todo de Pago":r.format_payment+" | "+r.format_method,Total:this.getTotal(this.orders.indexOf(r))})),n=[];this.orders.forEach(r=>{r.orderDetails.forEach(p=>{n.push({"ID Pago":r.id_payment,Cliente:`${r.user.name} ${r.user.lastname}`,Producto:p.product.name,C\u00f3digo:p.product.code,Categor\u00eda:p.product.category,Marca:p.product.brand,Cantidad:p.quantity,Precio:p.price,Total:p.quantity*p.price})})});const o=_.P6.json_to_sheet(e),a=_.P6.json_to_sheet(n),c=_.cW({Sheets:{Pedidos:o,Productos:a},SheetNames:["Pedidos","Productos"]},{bookType:"xlsx",type:"array"});this.saveAsExcelFile(c,"Pedidos_y_Productos_Vendidos")}saveAsExcelFile(e,n){const o=new Blob([e],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});(0,y.saveAs)(o,`${n}${(new Date).getFullYear()}.xlsx`)}nextPage(){this.currentPage+1<this.totalPages&&(this.currentPage++,this.getOrders())}prevPage(){this.currentPage>0&&(this.currentPage--,this.getOrders())}onPageChange(e){const n=parseInt(e.target.value,10);this.goToPage(n)}goToPage(e){this.currentPage=e,this.getOrders()}getPageNumbers(){return Array(this.totalPages).fill(0).map((e,n)=>n)}openModalOrder(e){this.loadStatusAndDeliveryStatus().then(()=>{const n=this.orders.find(o=>o.id===e);if(n){const o=this.status.find(s=>s.status===n.status).id.toString(),a=this.deliveryStatus.find(s=>s.delivery_status===n.delivery_status).id.toString();this.formStatus.patchValue({id:n.id,status:o,delivery_status:a})}})}updateOrder(){const e=this.formStatus.value.id?this.formStatus.value.id:"",n=this.formStatus.value.status?this.formStatus.value.status:0,o=this.formStatus.value.delivery_status?this.formStatus.value.delivery_status:0;this.formStatus.valid&&n>0&&o>0&&""!==e&&this.orderService.updateOrder(e,n,o).subscribe(a=>{f().mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:c=>{c.onmouseenter=f().stopTimer,c.onmouseleave=f().resumeTimer}}).fire({icon:"success",title:"Pedido actualizado correctamente"}),this.getOrders()})}loadStatusAndDeliveryStatus(){return Promise.all([this.statusService.getStatus().toPromise().then(e=>{this.status=e}),this.deliveryStatusService.getDeliveryStatus().toPromise().then(e=>{this.deliveryStatus=e})])}static#t=this.\u0275fac=function(n){return new(n||i)(t.Y36(U.K),t.Y36(q.p),t.Y36(m.F0),t.Y36(C.f),t.Y36(S.T),t.Y36(P),t.Y36(w))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-admin"]],decls:169,vars:22,consts:[[1,"container",2,"font-family","Montserrat"],[1,"card","mx-auto","shadow-lg","border","mt-5","mb-5","border-0","rounded-5","p-4"],[1,"row"],[1,"col-md-1","col-2","text-start","d-block","d-lg-none"],["type","button","data-bs-toggle","offcanvas","data-bs-target","#offcanvasWithBothOptions","aria-controls","offcanvasWithBothOptions",1,"btn","btn-lg","text-muted"],[1,"bi","bi-list"],["data-bs-scroll","true","tabindex","-1","id","offcanvasWithBothOptions","aria-labelledby","offcanvasWithBothOptionsLabel",1,"offcanvas","offcanvas-start","border-0"],[1,"offcanvas-header"],["id","offcanvasWithBothOptionsLabel",1,"offcanvas-title","display-6","text-body-tertiary"],["type","button","data-bs-dismiss","offcanvas","aria-label","Close",1,"btn-close",2,"box-shadow","none"],[1,"offcanvas-body"],[1,"d-grid","gap-2"],["routerLink","/admin/orders",1,"btn","btn-primary","btn-lg","boton","p-3"],[1,"bi","bi-file-earmark-text"],["routerLink","/admin/products",1,"btn","btn-primary","btn-lg","boton","p-3"],[1,"bi","bi-boxes"],["routerLink","/admin/stock",1,"btn","btn-primary","btn-lg","boton","p-3"],[1,"bi","bi-box"],["routerLink","/admin/report",1,"btn","btn-primary","btn-lg","boton","p-3"],[1,"bi","bi-bar-chart-line"],["routerLink","/admin/support",1,"btn","btn-primary","btn-lg","boton","p-3"],[1,"bi","bi-gear-wide-connected"],[1,"btn","btn-primary","btn-lg","boton","p-3",3,"click"],[1,"bi","bi-box-arrow-right"],[1,"col-md-11","col-10","mt-1"],[1,"display-6","text-muted"],[1,"text-body-tertiary"],[1,"bi","bi-person"],[1,"pt-4","col-lg-2","d-none","d-lg-block"],[1,"d-grid","gap-2","mb-5"],[1,"col-12","col-lg-10","col-sm-12","col-xs-12"],[1,"m-4"],[1,"row","pb-4"],[1,"col-md-12","text-center"],[1,"text-muted","fw-bold","text-body-tertiary","fs-3"],[1,"rounded-5"],[1,"row","align-items-center","d-flex","justify-content-center"],["action","#",1,"col-md-12","row","p-3","border-0","rounded-5","text-center",3,"formGroup","ngSubmit"],[1,"col-md-3"],[1,"form-floating","mb-3"],["type","datetime-local","id","floatingInput","formControlName","fromDate",1,"form-control","rounded-5",2,"box-shadow","none"],["for","floatingInput"],["type","datetime-local","id","floatingInput","formControlName","toDate",1,"form-control","rounded-5",2,"box-shadow","none"],["name","estado","id","estado","formControlName","status",1,"form-select","rounded-5",2,"box-shadow","none"],["value","0"],["value","1"],["value","2"],["value","4"],["for","validationCustom01",1,"form-label"],[1,"col-md-3","align-self-center"],[1,"btn","btn-outline-secondary","border-1","p-2","ps-3","pe-3","rounded-5"],[1,"bi","bi-search"],[1,"border-3","border-top","border-secondary","rounded-5"],[1,"row","mb-3","align-items-center","d-flex","justify-content-center"],[1,"col-md-4","text-center"],[1,"text-muted","fs-5"],[1,"col-md-4","mb-3","text-center","align-self-center"],[1,"btn","btn-outline-success","ms-3","border-1","p-2","ps-3","pe-3","rounded-5",3,"click"],[1,"bi","bi-file-earmark-excel-fill"],[1,"col-md-4","mb-3"],[1,"form-select","rounded-5",2,"box-shadow","none",3,"change"],["value","reciente",1,"form-select","text-muted"],["value","antiguo",1,"form-select","text-muted"],["id","accordionFlushExample",1,"accordion","accordion-flush"],[4,"ngIf","ngIfElse"],["noOrders",""],[1,"row","mt-3"],[1,"col-md-12"],["aria-label","Page navigation example"],[1,"pagination","justify-content-center"],[1,"page-item"],[1,"page-link","border-0","text-dark",2,"cursor","pointer",3,"click"],[1,"bi","bi-chevron-left"],[1,"form-select","border-0","ms-1","focus-ring","focus-ring-light",3,"ngModel","ngModelChange","change"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"bi","bi-chevron-right"],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content","rounded-5","border-0","p-2"],[1,"modal-header","border-0"],["id","exampleModalLabel",1,"modal-title","fs-5","text-muted"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close",2,"box-shadow","none"],[1,"modal-body"],[3,"formGroup"],[1,"text-muted"],["formControlName","status",1,"form-select",2,"box-shadow","none",3,"ngClass"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["formControlName","delivery_status",1,"form-select",2,"box-shadow","none",3,"ngClass"],["selected","","disabled","","value",""],[1,"modal-footer","border-0"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary","rounded-4","shadow"],[1,"bi","bi-x-circle-fill","text-white"],["type","button",1,"btn","btn-info","rounded-4","boton","shadow","text-light",3,"click"],[1,"bi","bi-floppy2-fill"],["class","accordion-item bg-primary-subtle bg-opacity-50 rounded-5",4,"ngFor","ngForOf"],[1,"accordion-item","bg-primary-subtle","bg-opacity-50","rounded-5"],[1,"accordion-header"],["type","button","data-bs-toggle","collapse","aria-expanded","false",1,"accordion-button","collapsed","btn","focus-ring","focus-ring-light",2,"box-shadow","none","border","none"],[1,"row","mb-0"],[1,"col-md-4"],[1,"bi","bi-calendar","text-primary"],[1,"text-primary"],[1,"bi","bi-cash-coin"],["class","col-md-2 d-flex",4,"ngIf"],[1,"accordion-collapse","collapse",3,"id"],[1,"accordion-body"],[1,"bi","bi-hash"],[1,"bi","bi-truck","text-secondary"],[1,"bi","bi-wallet2","text-success"],[1,"row","p-1"],[1,"col-md-4","text-start"],[1,"bi","bi-person-fill"],[1,"col-md-3","text-start"],[1,"bi","bi-telephone-fill"],[1,"col-md-5","text-start"],[1,"bi","bi-envelope-fill"],[1,"bi","bi-geo-alt-fill"],[1,"bi","bi-house-door-fill"],["class","row",4,"ngIf"],[1,"col-md-12","mb-3"],["class","col-md-12",4,"ngFor","ngForOf"],[1,"col-md-6","text-start"],["data-bs-toggle","modal","data-bs-target","#exampleModal","type","button",1,"btn","btn-warning","rounded-4",3,"click"],[1,"col-md-6","text-end"],[1,"text-end","fs-6","fw-bold"],[1,"bi","bi-check-circle-fill","text-success"],[1,"bi","bi-exclamation-triangle-fill","text-secondary"],[1,"bi","bi-hourglass-split","text-warning"],[1,"col-md-2","d-flex"],[1,""],["src","https://freeiconshop.com/wp-content/uploads/edd/gift-flat.png","width","30","alt","",1,"img-fluid"],[1,"text-center","ps-2","pt-1"],[1,"fw-bold",2,"color","rgba(49, 73, 167, 0.852)"],[1,"bi","bi-bag-check-fill","text-success"],[1,"bi","bi-truck","text-primary"],[1,"bi","bi-box2-fill","text-secondary"],[1,"bi","bi-x-circle-fill","text-danger"],[1,"col-md-6"],[1,"bi","bi-gift-fill","text-primary"],[1,"bi","bi-geo-alt-fill","text-primary"],[1,"bi","bi-chat-left-dots-fill","text-primary"],[1,"col-md-2"],[1,"text-muted","opacity-50"],[1,"col-md-1"],[1,"text-end","fw-semibold"],[1,"text-end","mt-5","fs-5"],[1,"text-center"],[1,"bi","bi-info-circle","me-1"],[3,"ngValue"],[3,"value"],[1,"text-danger"]],template:function(n,o){if(1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"button",4),t._UZ(5,"i",5),t.qZA(),t.TgZ(6,"div",6)(7,"div",7)(8,"h5",8),t._uU(9,"Menu"),t.qZA(),t._UZ(10,"button",9),t.qZA(),t.TgZ(11,"div",10)(12,"div",11)(13,"a",12)(14,"i",13),t._uU(15," Pedidos"),t.qZA()(),t.TgZ(16,"a",14)(17,"i",15),t._uU(18," Productos"),t.qZA()(),t.TgZ(19,"a",16)(20,"i",17),t._uU(21," Stock"),t.qZA()(),t.TgZ(22,"a",18)(23,"i",19),t._uU(24," Reportes"),t.qZA()(),t.TgZ(25,"a",20)(26,"i",21),t._uU(27," Soporte"),t.qZA()(),t.TgZ(28,"a",22),t.NdJ("click",function(){return o.logout()}),t.TgZ(29,"i",23),t._uU(30," Cerrar sesion"),t.qZA()()()()()(),t.TgZ(31,"div",24)(32,"h4",25)(33,"span",26),t._UZ(34,"i",27),t._uU(35,"Hola, "),t.qZA(),t._uU(36),t.ALo(37,"titlecase"),t.qZA()()(),t._UZ(38,"hr"),t.TgZ(39,"div",2)(40,"div",28)(41,"div",29)(42,"a",12)(43,"i",13),t._uU(44," Pedidos"),t.qZA()(),t.TgZ(45,"a",14)(46,"i",15),t._uU(47," Productos"),t.qZA()(),t.TgZ(48,"a",16)(49,"i",17),t._uU(50," Stock"),t.qZA()(),t.TgZ(51,"a",18)(52,"i",19),t._uU(53," Reportes"),t.qZA()(),t.TgZ(54,"a",20)(55,"i",21),t._uU(56," Soporte"),t.qZA()(),t.TgZ(57,"a",22),t.NdJ("click",function(){return o.logout()}),t.TgZ(58,"i",23),t._uU(59," Cerrar sesion"),t.qZA()()()(),t.TgZ(60,"div",30)(61,"div",31)(62,"div",32)(63,"div",33)(64,"h4",34)(65,"span",35),t._UZ(66,"i",13),t._uU(67,"Pedidos"),t.qZA()()()(),t.TgZ(68,"div",36)(69,"form",37),t.NdJ("ngSubmit",function(){return o.getOrders()}),t.TgZ(70,"div",38)(71,"div",39),t._UZ(72,"input",40),t.TgZ(73,"label",41),t._uU(74,"Fecha desde"),t.qZA()()(),t.TgZ(75,"div",38)(76,"div",39),t._UZ(77,"input",42),t.TgZ(78,"label",41),t._uU(79,"Fecha hasta"),t.qZA()()(),t.TgZ(80,"div",38)(81,"div",39)(82,"select",43)(83,"option",44),t._uU(84,"Cualquiera"),t.qZA(),t.TgZ(85,"option",45),t._uU(86,"Aprobado"),t.qZA(),t.TgZ(87,"option",46),t._uU(88,"Pendiente"),t.qZA(),t.TgZ(89,"option",47),t._uU(90,"En proceso"),t.qZA()(),t.TgZ(91,"label",48),t._uU(92," Estado de pago"),t.qZA()()(),t.TgZ(93,"div",49)(94,"button",50),t._UZ(95,"i",51),t._uU(96," Buscar"),t.qZA()()()(),t._UZ(97,"hr",52),t.TgZ(98,"div",53)(99,"div",54)(100,"p",55),t._uU(101),t.qZA()(),t.TgZ(102,"div",56)(103,"button",57),t.NdJ("click",function(){return o.exportToExcel()}),t._UZ(104,"i",58),t._uU(105," Exportar a Excel "),t.qZA()(),t.TgZ(106,"div",59)(107,"div",39)(108,"select",60),t.NdJ("change",function(s){return o.orderBy(s)}),t.TgZ(109,"option",61),t._uU(110,"Mas recientes"),t.qZA(),t.TgZ(111,"option",62),t._uU(112,"Mas antiguos"),t.qZA()(),t.TgZ(113,"label",48),t._uU(114,"Ordenar pedidos por"),t.qZA()()()(),t.TgZ(115,"div",2)(116,"div",63),t.YNc(117,Q,2,1,"ng-container",64),t.YNc(118,$,4,0,"ng-template",null,65,t.W1O),t.qZA()(),t.TgZ(120,"div",66)(121,"div",67)(122,"nav",68)(123,"ul",69)(124,"li",70)(125,"a",71),t.NdJ("click",function(){return o.prevPage()}),t._UZ(126,"i",72),t.qZA()(),t.TgZ(127,"li",70)(128,"select",73),t.NdJ("ngModelChange",function(s){return o.currentPage=s})("change",function(s){return o.onPageChange(s)}),t.YNc(129,B,2,2,"option",74),t.qZA()(),t.TgZ(130,"li",70)(131,"a",71),t.NdJ("click",function(){return o.nextPage()}),t._UZ(132,"i",75),t.qZA()()()()()()()()()()(),t.TgZ(133,"div",76)(134,"div",77)(135,"div",78)(136,"div",79)(137,"h1",80),t._uU(138,"Actualizar estados del pedido"),t.qZA(),t._UZ(139,"button",81),t.qZA(),t.TgZ(140,"div",82)(141,"form",83)(142,"div",2)(143,"div",67)(144,"p",84),t._uU(145,"Por favor, seleccione los estados que desea actualizar."),t.qZA()(),t.TgZ(146,"div",67)(147,"div",39)(148,"select",85),t.YNc(149,L,2,2,"option",86),t.qZA(),t.TgZ(150,"label",41),t._uU(151,"Estado de pago"),t.qZA(),t.YNc(152,z,3,0,"div",87),t.qZA()(),t.TgZ(153,"div",67)(154,"div",39)(155,"select",88)(156,"option",89),t._uU(157,"Seleccione un estado de entrega"),t.qZA(),t.YNc(158,G,2,2,"option",86),t.qZA(),t.TgZ(159,"label",41),t._uU(160,"Estado de entrega"),t.qZA(),t.YNc(161,V,3,0,"div",87),t.qZA()()()()(),t.TgZ(162,"div",90)(163,"button",91),t._UZ(164,"i",92),t._uU(165," Cancelar"),t.qZA(),t.TgZ(166,"button",93),t.NdJ("click",function(){return o.updateOrder()}),t._UZ(167,"i",94),t._uU(168," Guardar cambios"),t.qZA()()()()()),2&n){const a=t.MAs(119);let s,c,r,p;t.xp6(36),t.hij(" ",t.lcZ(37,16,o.user.name.toLowerCase())," "),t.xp6(33),t.Q6J("formGroup",o.formOrders),t.xp6(32),t.hij("",o.totalElements," Resultados"),t.xp6(16),t.Q6J("ngIf",o.orders.length>0)("ngIfElse",a),t.xp6(7),t.ekj("disabled",0===o.currentPage),t.xp6(4),t.Q6J("ngModel",o.currentPage),t.xp6(1),t.Q6J("ngForOf",o.getPageNumbers()),t.xp6(12),t.Q6J("formGroup",o.formStatus),t.xp6(7),t.Q6J("ngClass",t.VKq(18,Z,(null==(s=o.formStatus.get("status"))?null:s.errors)&&((null==(s=o.formStatus.get("status"))?null:s.dirty)||(null==(s=o.formStatus.get("status"))?null:s.touched))&&"is-invalid")),t.xp6(1),t.Q6J("ngForOf",o.status),t.xp6(3),t.Q6J("ngIf",(null==(c=o.formStatus.get("status"))?null:c.invalid)&&((null==(c=o.formStatus.get("status"))?null:c.dirty)||(null==(c=o.formStatus.get("status"))?null:c.touched))),t.xp6(3),t.Q6J("ngClass",t.VKq(20,Z,(null==(r=o.formStatus.get("delivery_status"))?null:r.errors)&&((null==(r=o.formStatus.get("delivery_status"))?null:r.dirty)||(null==(r=o.formStatus.get("delivery_status"))?null:r.touched))&&"is-invalid")),t.xp6(3),t.Q6J("ngForOf",o.deliveryStatus),t.xp6(3),t.Q6J("ngIf",(null==(p=o.formStatus.get("delivery_status"))?null:p.invalid)&&((null==(p=o.formStatus.get("delivery_status"))?null:p.dirty)||(null==(p=o.formStatus.get("delivery_status"))?null:p.touched)))}},dependencies:[g.mk,g.sg,g.O5,d._Y,d.YN,d.Kr,d.Fj,d.EJ,d.JJ,d.JL,d.sg,d.u,d.On,m.rH,g.JJ,g.rS],styles:[".boton[_ngcontent-%COMP%]{background-color:#a8c87b;border:none;transition:width .3s;opacity:.9;border-radius:25px;transition:.2s ease-in-out;scale:.95}.boton[_ngcontent-%COMP%]:hover{background-color:#8cb551;border-radius:50px;opacity:1;scale:1}.icon[_ngcontent-%COMP%]{width:50px;height:50px;padding:5px;opacity:.5}"]})}return i})()}];let K=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275mod=t.oAB({type:i});static#i=this.\u0275inj=t.cJS({imports:[m.Bz.forChild(W),m.Bz]})}return i})(),R=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275mod=t.oAB({type:i});static#i=this.\u0275inj=t.cJS({imports:[g.ez,d.UX,v.JF,d.u5,K]})}return i})()}}]);