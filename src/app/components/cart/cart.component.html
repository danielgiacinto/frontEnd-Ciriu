
<div *ngIf="viewCart" class="cart-sidebar">
  <div class="row mb-4 p-3">
    <div class="col-md-10 col-sm-11 text-center ps-5">
      <h5 class="display-6 text-muted"> <i class="bi bi-cart3"></i> Mi carrito</h5>
    </div>
    <div class="col-md-2 col-sm-1 text-center mt-3">
      <button type="button" class="btn-close" aria-label="Close" (click)="closeCart()"></button>
    </div>
  </div>
  <div class="row">
    <div class="col-md-12">
      <div class="col m-5 text-center" *ngIf="cart.length === 0">
        <p class="text-muted fs-5">Tu carrito está vacío.</p>
      </div>
      <div *ngIf="cart.length > 0">
        <div class="row p-4">
          <div class="col-md-12" *ngFor="let item of cart; let i = index">
            <div class="d-flex mb-3">
              <div class="me-4">
                <img [src]="item.image" alt="{{ item.name }}" style="max-width: 100px; max-height: 100px;">
              </div>
              <div class="row">
                <div class="col-md-8">
                  <h6>{{ item.name }}</h6>
                </div>
                <div class="col-md-4">
                  <div class="d-flex align-items-end justify-content-end">
                    <button class="btn btn-link text-secondary p-0" (click)="removeItem(item)"><i
                        class="bi bi-x-circle-fill"></i></button>
                  </div>
                </div>
                <div class="col-md-12">
                  <p>{{ item.price | currency }}</p>
                </div>
                <div class="col-md-5 m-0">
                  <div class="input-group input-group-sm">
                    <button class="input-group-text fs-5 border-1" type="button" (click)="decreaseQuantity(item)"><i
                        class="bi bi-dash"></i></button>
                    <input type="number" class="form-control text-center ps-3" readonly [ngModel]="item.quantity"
                      min="1">
                    <button class="input-group-text fs-5 border-1" type="button" (click)="increaseQuantity(item)"><i
                        class="bi bi-plus-lg"></i></button>
                  </div>
                </div>
                <div class="col-md-7 align-items-center text-center justify-content-center d-flex">
                  <p class="text-muted fw-semibold mb-0 pe-3">Subtotal {{ item.price * item.quantity | currency }}</p>
                </div>
              </div>
            </div>
            <hr>
          </div>
        </div>
        <div class="row mb-5">
          <div class="col-md-6 col-sm-12 align-self-start justify-content-start d-flex ps-5">
            <h4 class="text-muted fw-bold">Total</h4>
          </div>
          <div class="col-md-6 col-sm-12 align-items-end d-flex justify-content-end pe-5">
            <h4 class="fw-bold text-muted"> {{ getTotal() | currency }}</h4>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="row mb-4">
    <div class="col-md-12 text-center">
      <button *ngIf="cart.length > 0" type="button" class="btn btn-primary boton-comprar fs-4" [disabled]="cart.length === 0"
        (click)="goToCheckout()" data-bs-dismiss="modal">Continuar compra
      </button>
      <button type="button" *ngIf="cart.length === 0" disabled class="btn btn-primary boton-comprar fs-4">Agrega productos para comprar</button>
    </div>
  </div>
</div>
